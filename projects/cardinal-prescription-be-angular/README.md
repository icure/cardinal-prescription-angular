# Cardinal Prescription Angular Component üáßüá™

This is a **Belgian-specific** Angular application for healthcare professionals to **manage electronic prescriptions**.  
It integrates iCure's APIs ‚Äî  `@icure/be-fhc-api`, `@icure/cardinal-be-sam-sdk`, and `@icure/medication-sdk` ‚Äî to streamline:

- üîê Practitioner certificate management
- üîç Medication search
- üìù Electronic prescription creation & editing
- üßæ Prescription overview & sending
- üñ® Printing of prescriptions

**This component is designed for integration with [Belgium‚Äôs SAM platform](https://www.samportal.be/nl/sam/documentation)** and can easily be embedded into other medical software projects as a drop-in feature for prescription management.

## üìö Table of Contents

- [About iCure and Cardinal](#-about-icure-and-cardinal)
- [Features](#-features)
- [Technologies](#-technologies)
- [Prerequisites](#-prerequisites)
- [Getting Started](#-getting-started)
- [Available Components and How to Use Them](#-available-components-and-how-to-use-them)
- [Available Services and How to Use Them](#-available-services-and-how-to-use-them)
- [SAM and Recip-e Requirements](#-sam-and-recip-e-requirements)
- [Medications of Interest for Tests](#-medications-of-interest-for-tests)
- [Example: Demo Application](#-example-demo-application)

## üè¢ About iCure and Cardinal

![iCure logo](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjUwIiBoZWlnaHQ9IjEwNiIgdmlld0JveD0iMCAwIDI1MCAxMDYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyNTAiIGhlaWdodD0iMTA1LjIyMyIgcng9IjIwIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMTM0LjgzNiA4OC42ODVWODQuNDE0N0MxMzMuMzY2IDg1Ljk1NDggMTMxLjYxNiA4Ny4yMTQ5IDEyOS40NDYgODguMTI0OUMxMjcuMzQ2IDg5LjAzNSAxMjQuOTY2IDg5LjQ1NSAxMjIuMzA2IDg5LjQ1NUMxMTkuNzg2IDg5LjQ1NSAxMTcuNTQ1IDg5LjAzNSAxMTUuNDQ1IDg4LjE5NDlDMTEzLjQxNSA4Ny4zNTQ5IDExMS42NjUgODYuMTY0OCAxMTAuMTk1IDg0LjY5NDdDMTA4LjcyNSA4My4xNTQ3IDEwNy42MDUgODEuNDA0NiAxMDYuODM1IDc5LjIzNDVDMTA2LjA2NSA3Ny4xMzQzIDEwNS42NDUgNzQuNzU0MiAxMDUuNjQ1IDcyLjA5NDFWNDUuNzAyNkgxMTcuMTk1VjcwLjA2NEMxMTcuMTk1IDcyLjY1NDEgMTE3Ljg5NSA3NC42ODQyIDExOS4yOTYgNzYuMjk0M0MxMjAuNjk2IDc3LjkwNDQgMTIyLjY1NiA3OC42NzQ0IDEyNS4xNzYgNzguNjc0NEMxMjguMDQ2IDc4LjY3NDQgMTMwLjI4NiA3Ny44MzQ0IDEzMi4wMzYgNzYuMTU0M0MxMzMuNzg2IDc0LjQ3NDIgMTM0LjYyNiA3Mi4xNjQxIDEzNC42MjYgNjkuMDgzOVY0NS43MDI2SDE0Ni4zMTdWODguNjg1SDEzNC44MzZaIiBmaWxsPSIjMUQyMjM1Ii8+CjxwYXRoIGQ9Ik0xNTQuNTAyIDg4LjY4NjRWNDUuNzA0MUgxNjYuMTIzVjUxLjU4NDRDMTY3LjU5MyA0OS42MjQzIDE2OS4zNDMgNDguMDg0MiAxNzEuNDQzIDQ2Ljg5NDFDMTczLjU0MyA0NS43MDQxIDE3NS45MjMgNDUuMTQ0IDE3OC41ODMgNDUuMTQ0VjU2LjkwNDdDMTc0LjMxMyA1Ni45MDQ3IDE3MS4xNjMgNTguMDI0NyAxNjkuMTMzIDYwLjE5NDhDMTY3LjE3MyA2Mi40MzQ5IDE2Ni4xOTMgNjUuMzc1MSAxNjYuMTkzIDY5LjE1NTRWODguNzU2NEwxNTQuNTAyIDg4LjY4NjRaIiBmaWxsPSIjMUQyMjM1Ii8+CjxwYXRoIGQ9Ik0yMjMuNTMgODAuMDAyOEMyMjEuNDMgODMuMTUyOSAyMTguNyA4NS42NzMxIDIxNS4zNCA4Ny40OTMyQzIxMS45OCA4OS4zMTMzIDIwNy45MTkgOTAuMjIzMyAyMDMuMTU5IDkwLjIyMzNDMTk5LjcyOSA5MC4yMjMzIDE5Ni41NzkgODkuNjYzMyAxOTMuODQ5IDg4LjQ3MzJDMTkxLjExOSA4Ny4zNTMyIDE4OC43MzkgODUuNzQzMSAxODYuNzA5IDgzLjc4M0MxODQuNzQ5IDgxLjgyMjkgMTgzLjIwOCA3OS40NDI3IDE4Mi4xNTggNzYuNzEyNkMxODEuMTA4IDczLjk4MjQgMTgwLjU0OCA3MS4wNDIzIDE4MC41NDggNjcuODIyMUMxODAuNTQ4IDY0Ljc0MTkgMTgxLjEwOCA2MS44NzE4IDE4Mi4yMjggNTkuMTQxNkMxODMuMzQ4IDU2LjQxMTUgMTg0Ljg4OSA1NC4wMzE0IDE4Ni45MTkgNTIuMDAxM0MxODguOTQ5IDQ5Ljk3MTEgMTkxLjMyOSA0OC4zNjExIDE5NC4xMjkgNDcuMTcxQzE5Ni45MjkgNDUuOTgwOSAyMDAuMDA5IDQ1LjQyMDkgMjAzLjM2OSA0NS40MjA5QzIwNi43OTkgNDUuNDIwOSAyMDkuODA5IDQ1Ljk4MDkgMjEyLjQ3IDQ3LjEwMUMyMTUuMTMgNDguMjIxIDIxNy40NCA0OS43NjExIDIxOS4yNiA1MS43MjEyQzIyMS4xNSA1My42ODEzIDIyMi41NSA1NS45OTE1IDIyMy41MyA1OC42NTE2QzIyNC41MSA2MS4zMTE4IDIyNSA2NC4xODE5IDIyNSA2Ny4zMzIxQzIyNSA2OC4xNzIxIDIyNSA2OS4wMTIyIDIyNC45MyA2OS45MjIyQzIyNC44NiA3MC44MzIzIDIyNC44NiA3MS4zMjIzIDIyNC44NiA3MS40NjIzTDE5Mi4wMjkgNzEuMzkyM0MxOTIuNjU5IDc0LjEyMjQgMTkzLjkxOSA3Ni4yOTI2IDE5NS45NDkgNzcuOTAyNkMxOTcuOTA5IDc5LjUxMjcgMjAwLjQyOSA4MC4zNTI4IDIwMy40MzkgODAuMzUyOEMyMDYuMDk5IDgwLjM1MjggMjA4LjMzOSA3OS44NjI4IDIxMC4xNTkgNzguODEyN0MyMTIuMDUgNzcuNzYyNiAyMTMuNTkgNzYuNDMyNiAyMTQuODUgNzQuNjgyNUwyMjMuNTMgODAuMDAyOFpNMjAzLjIyOSA1NC45NDE0QzIwMC40OTkgNTQuOTQxNCAxOTguMTg5IDU1LjY0MTQgMTk2LjM2OSA1Ni45NzE1QzE5NC41NDkgNTguMzcxNiAxOTMuMjE5IDYwLjI2MTcgMTkyLjQ0OSA2Mi43MTE4SDIxMy4zMUMyMTIuNjggNjAuMTIxNyAyMTEuNDIgNTguMTYxNiAyMDkuNTI5IDU2LjgzMTVDMjA3LjcwOSA1NS41NzE0IDIwNS42MDkgNTQuOTQxNCAyMDMuMjI5IDU0Ljk0MTRaIiBmaWxsPSIjMUQyMjM1Ii8+CjxwYXRoIGQ9Ik0zNi42MjA0IDQ3LjEwNEgyNVY5MC4wODYySDM2LjYyMDRWNDcuMTA0WiIgZmlsbD0iIzFEMjIzNSIvPgo8cGF0aCBkPSJNNzIuODgxMyA0Mi4xOTc3QzcwLjQzMTIgNDIuMTk3NyA2OC4xOTExIDQyLjY4NzcgNjYuMDkxIDQzLjU5NzhDNjMuOTkxIDQ0LjUwNzggNjIuMjQwOSA0NS43Njc5IDYwLjcwMDggNDcuMzc4QzU5LjE2MDcgNDguOTg4MSA1Ny45NzA3IDUwLjgwODEgNTcuMTMwNyA1Mi45NzgzQzU2LjI5MDcgNTUuMTQ4NCA1NS44MDA2IDU3LjQ1ODUgNTUuODAwNiA1OS45MDg2QzU1LjgwMDYgNjIuNDI4OCA1Ni4yMjA3IDY0LjczODkgNTcuMTMwNyA2Ni45NzlDNTcuOTcwNyA2OS4xNDkxIDU5LjIzMDcgNzEuMDM5MiA2MC43NzA4IDcyLjY0OTNDNjIuMzEwOCA3NC4yNTk0IDY0LjIwMDkgNzUuNTE5NSA2Ni4zNzEgNzYuNDI5NUM2OC41NDExIDc3LjMzOTYgNzAuODUxMiA3Ny44Mjk2IDczLjM3MTMgNzcuODI5NkM3Ni44NzE0IDc3LjgyOTYgNzkuOTUxNiA3Ni45ODk1IDgyLjYxMTcgNzUuMzA5NUM4NS4yNzE4IDczLjYyOTQgODcuMzcxOSA3MS4zODkyIDg5LjA1MTkgNjguNTE5MUw5OS4yMDIzIDc1LjU4OTVDOTYuNDAyMiA4MC4xMzk3IDkyLjkwMjEgODMuNjM5OSA4OC43MDE5IDg2LjE2Qzg0LjUwMTggODguNjgwMiA3OS40NjE1IDg5Ljk0MDIgNzMuNTgxMyA4OS45NDAyQzY5LjE3MTIgODkuOTQwMiA2NS4xMTEgODkuMTcwMiA2MS4zMzA5IDg3LjYzMDFDNTcuNTUwNyA4Ni4wOSA1NC4yNjA2IDgzLjk4OTkgNTEuNTMwNSA4MS4yNTk4QzQ4LjgwMDQgNzguNTI5NiA0Ni42MzAzIDc1LjM3OTUgNDUuMDIwMiA3MS43MzkzQzQzLjQ4MDIgNjguMDk5MSA0Mi42NDAxIDY0LjE3ODkgNDIuNjQwMSA1OS45Nzg2QzQyLjY0MDEgNTUuNzc4NCA0My40MTAyIDUxLjg1ODIgNDUuMDIwMiA0OC4yODhDNDYuNTYwMyA0NC43MTc4IDQ4LjczMDQgNDEuNTY3NyA1MS40NjA0IDM4LjgzNzVDNTQuMTkwNSAzNi4xNzc0IDU3LjQxMDYgMzQuMDc3MyA2MS4xMjA4IDMyLjUzNzJDNjQuODMwOSAzMC45OTcxIDY4Ljg5MTIgMzAuMjI3MSA3My4zMDEzIDMwLjIyNzFDNzguOTcxNSAzMC4yMjcxIDgzLjk0MTcgMzEuNTU3MSA4OC4zNTE5IDMzLjcyNzJDOTIuNTUyMSAzNS44Mjc0IDk4LjAxMjMgMzkuMjU3NSAxMDEuMzcyIDQ3LjE2OEw5MS4wODE5IDU0LjMwODNDODkuNDAxOSA1MS41MDgyIDg0LjkyMTcgNDYuNjA3OSA4Mi40MDE3IDQ0Ljg1NzhDNzkuNjcxNSA0My4wMzc3IDc2LjU5MTQgNDIuMTk3NyA3Mi44ODEzIDQyLjE5NzdaIiBmaWxsPSIjMDBCMUZGIi8+CjxwYXRoIGQ9Ik03Ni4wMzIxIDIzLjI5NjRINzAuNzExOVYzOC4xMzcxSDc2LjAzMjFWMjMuMjk2NFoiIGZpbGw9IiMwMEIxRkYiLz4KPHBhdGggZD0iTTczLjM2OSAyNS4yNjA4Qzc3LjU4MzEgMjUuMjYwOCA4MC45OTkzIDIxLjg0NDUgODAuOTk5MyAxNy42MzA0QzgwLjk5OTMgMTMuNDE2MiA3Ny41ODMxIDEwIDczLjM2OSAxMEM2OS4xNTQ5IDEwIDY1LjczODggMTMuNDE2MiA2NS43Mzg4IDE3LjYzMDRDNjUuNzM4OCAyMS44NDQ1IDY5LjE1NDkgMjUuMjYwOCA3My4zNjkgMjUuMjYwOFoiIGZpbGw9IiMwMEIxRkYiLz4KPHBhdGggZD0iTTgwLjAxOTggNjAuMTk2NEM4Mi44NDIxIDYwLjE5NjQgODUuMTMgNTcuODc3MiA4NS4xMyA1NS4wMTYyQzg1LjEzIDUyLjE1NTIgODIuODQyMSA0OS44MzU5IDgwLjAxOTggNDkuODM1OUM3Ny4xOTc2IDQ5LjgzNTkgNzQuOTA5NyA1Mi4xNTUyIDc0LjkwOTcgNTUuMDE2MkM3NC45MDk3IDU3Ljg3NzIgNzcuMTk3NiA2MC4xOTY0IDgwLjAxOTggNjAuMTk2NFoiIGZpbGw9IiMxRDIyMzUiLz4KPHBhdGggZD0iTTY3LjI4NCA2MC4xOTY0QzcwLjEwNjMgNjAuMTk2NCA3Mi4zOTQyIDU3Ljg3NzIgNzIuMzk0MiA1NS4wMTYyQzcyLjM5NDIgNTIuMTU1MiA3MC4xMDYzIDQ5LjgzNTkgNjcuMjg0IDQ5LjgzNTlDNjQuNDYxNyA0OS44MzU5IDYyLjE3MzggNTIuMTU1MiA2Mi4xNzM4IDU1LjAxNjJDNjIuMTczOCA1Ny44NzcyIDY0LjQ2MTcgNjAuMTk2NCA2Ny4yODQgNjAuMTk2NFoiIGZpbGw9IiMxRDIyMzUiLz4KPHBhdGggZD0iTTY4LjYxMTggNTMuNDc1NkM2OS4zNDY0IDUzLjQ3NTYgNjkuOTQxOCA1Mi44ODAxIDY5Ljk0MTggNTIuMTQ1NkM2OS45NDE4IDUxLjQxMSA2OS4zNDY0IDUwLjgxNTQgNjguNjExOCA1MC44MTU0QzY3Ljg3NzIgNTAuODE1NCA2Ny4yODE3IDUxLjQxMSA2Ny4yODE3IDUyLjE0NTZDNjcuMjgxNyA1Mi44ODAxIDY3Ljg3NzIgNTMuNDc1NiA2OC42MTE4IDUzLjQ3NTZaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNODEuOTg0MyA1My40NzU2QzgyLjcxODkgNTMuNDc1NiA4My4zMTQ0IDUyLjg4MDEgODMuMzE0NCA1Mi4xNDU2QzgzLjMxNDQgNTEuNDExIDgyLjcxODkgNTAuODE1NCA4MS45ODQzIDUwLjgxNTRDODEuMjQ5OCA1MC44MTU0IDgwLjY1NDMgNTEuNDExIDgwLjY1NDMgNTIuMTQ1NkM4MC42NTQzIDUyLjg4MDEgODEuMjQ5OCA1My40NzU2IDgxLjk4NDMgNTMuNDc1NloiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo=)

[iCure](https://icure.com/en/) is the company that provides a **secure, end-to-end encrypted backend-as-a-service** for Health-Tech, allowing companies to build fully compliant medical solutions faster.

![Cardinal logo](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQwIiBoZWlnaHQ9IjgzIiB2aWV3Qm94PSIwIDAgMjQwIDgzIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cmVjdCB3aWR0aD0iMjQwIiBoZWlnaHQ9IjgzIiByeD0iMjAiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik02Ni4wNjg3IDE1SDI3LjM2NjRDMjMuMjk4NCAxNSAyMCAxOC4yNjc0IDIwIDIyLjI5ODFWNjAuNjQ1NkMyMCA2NC42NzYxIDIzLjI5ODQgNjcuOTQzNyAyNy4zNjY0IDY3Ljk0MzdINjYuMDY4N0M3MC4xMzY2IDY3Ljk0MzcgNzMuNDM1MSA2NC42NzYxIDczLjQzNTEgNjAuNjQ1NlYyMi4yOTgxQzczLjQzNTEgMTguMjY3NCA3MC4xMzY2IDE1IDY2LjA2ODcgMTVaTTY2LjMxNzcgNDIuNTgxNEM2NS4yODUgNDUuNzMxMiA2My42NDM0IDQ3LjM5MSA2MS4yMjY0IDQ5LjcxMjlDNTkuMjU1NCA1MS42MDY1IDU3LjMxNDcgNTMuNTMwNSA1NS4zNzM5IDU1LjQ1MzFDNTMuODM3NCA1Ni45NzU0IDUyLjEzNjUgNTguNzM3MSA1MC42MzM0IDYwLjIwNzJDNTAuMTIxMiA2MC43MDc3IDQ5LjgxMzkgNjAuOTczNyA0OS40NjI5IDYxLjMwOTNWNDUuNTM4OUM0OS40ODU1IDQ1LjE0MTEgNDkuNTA0NyA0NC45MjI0IDQ5LjU3OTggNDQuNjEwOEM0OS43MTI3IDQ0LjA2MzEgNDkuNzk3MSA0My41MDM3IDQ5Ljk4OTMgNDIuOTg3NUM1MC41OTMzIDQxLjM2NDIgNTEuMzMxIDQwLjEyMiA1Mi4yNzE4IDM4Ljg3MDZDNTMuMDUyMSAzOC4xMTc0IDUzLjc3MzkgMzcuMzYzMyA1NC41NTQ0IDM2LjYwOTJDNTUuMjUxOSAzNS44NDkzIDU1LjkyODcgMzUuMjQ3NyA1Ni42MDI5IDM0LjU3OTdDNTcuNTk3OSAzMy41NzU0IDU4LjU5MyAzMi41NzAzIDU5LjU4NzIgMzEuNTY1MUM2MS41ODgxIDI5LjU4MzcgNjMuMDI5MyAyOC40NDE4IDYzLjI3NCAyNS4xMjk2QzYxLjE1NjIgMjUuMDg0MSA1OS43MzgzIDI1LjkxNjkgNTguNTkzIDI2Ljg2OUM1OC4yOTA1IDI3LjEyMDEgNTcuOTU1NCAyNy41MTc5IDU3LjY1NjMgMjcuNzk2M0M1Ny40OTM0IDI3Ljk0ODggNTcuMzIxNCAyOC4xMzI3IDU3LjMwNDcgMjguMTQ0M0M1Ny4yMTAyIDI4LjIxMjMgNTYuNzk5MiAyOC42NDgyIDU2LjY2MTQgMjguNzgyNEM1Ni4xMDk5IDI5LjMyMDIgNTUuNzY2NiAyOS42MTQ0IDU1LjE0IDMwLjI4OTdDNTQuODg2IDMwLjUyMTcgNTQuNTczNCAzMC44NjkgNTQuMzIwMyAzMS4xMDExQzUzLjc0MTQgMzEuNjc1MyA1My4yMDQxIDMyLjIzMzggNTIuNjIzNSAzMi43ODI0QzUyLjMzMDIgMzMuMDkyNCA1MS45Nzk0IDMzLjQwMTQgNTEuNjg3IDMzLjcxMDVDNTAuNjY4NSAzNC43MTkgNDkuNjU1OSAzNS44Mzg1IDQ4LjQ2NzkgMzYuNjY4MUM0Ny4xMTk0IDM3LjYwODYgNDUuNTgzMSAzOC4yNDk5IDQzLjcyNzUgMzguNjM4NkM0Mi40ODA5IDM4LjkwMDQgMzkuODU5MiAzOC44MTI2IDM3Ljk5MTkgMzguODEyNkgyNi42OTcxQzI3LjU2MTggMzcuOTkyMyAzMS43NDA5IDMzLjgxNTggMzIuMzczMyAzMy4xODg0QzM0LjQ0MiAzMS4xNCAzNi41MDg5IDI5LjA5MTUgMzguNTc3NiAyNy4wNDNDNDAuNTY0MyAyNS4wNzQxIDQyLjM0ODkgMjMuMTQ0MiA0NS4zNjU4IDIyLjE3MjFDNDcuNDc5NSAyMS40OTE4IDUwLjQ3NzMgMjEuNjUwOSA1My4yNjY5IDIxLjY1MDlINjYuNzI3MlYzNS4yMTc4QzY2LjY1NzcgMzguMTQyMiA2Ni45NTYgNDAuNjM0OSA2Ni4zMTc3IDQyLjU4MTRaIiBmaWxsPSIjMDBCMUZGIi8+CjxwYXRoIGQ9Ik04Ni43Nzg4IDQxLjUwMjJDODYuNzc4OCAzOS40NDI3IDg3LjI1NzEgMzcuNTk1MyA4OC4yMTM5IDM1Ljk1OTlDODkuMTkxIDM0LjMyNDUgOTAuNTA0IDMzLjA1MjUgOTIuMTUyOCAzMi4xNDM5QzkzLjgyMiAzMS4yMTUyIDk1LjY0NCAzMC43NTA3IDk3LjYxODUgMzAuNzUwN0M5OS44NzggMzAuNzUwNyAxMDEuODgzIDMxLjMwNiAxMDMuNjM0IDMyLjQxNjVDMTA1LjQwNSAzMy41MDY3IDEwNi42ODcgMzUuMDYxNSAxMDcuNDgxIDM3LjA4MDVIMTAzLjI5OEMxMDIuNzQ4IDM1Ljk3IDEwMS45ODUgMzUuMTQyMiAxMDEuMDA4IDM0LjU5N0MxMDAuMDMxIDM0LjA1MTkgOTguOTAwOSAzMy43NzkzIDk3LjYxODUgMzMuNzc5M0M5Ni4yMTM5IDMzLjc3OTMgOTQuOTYyIDM0LjA5MjMgOTMuODYyOCAzNC43MTgyQzkyLjc2MzUgMzUuMzQ0MiA5MS44OTgzIDM2LjI0MjYgOTEuMjY3NCAzNy40MTM2QzkwLjY1NjcgMzguNTg0OCA5MC4zNTEzIDM5Ljk0NzYgOTAuMzUxMyA0MS41MDIyQzkwLjM1MTMgNDMuMDU2OSA5MC42NTY3IDQ0LjQxOTggOTEuMjY3NCA0NS41OTA4QzkxLjg5ODMgNDYuNzYxOSA5Mi43NjM1IDQ3LjY3MDUgOTMuODYyOCA0OC4zMTY1Qzk0Ljk2MiA0OC45NDI1IDk2LjIxMzkgNDkuMjU1MyA5Ny42MTg1IDQ5LjI1NTNDOTguOTAwOSA0OS4yNTUzIDEwMC4wMzEgNDguOTgyNyAxMDEuMDA4IDQ4LjQzNzZDMTAxLjk4NSA0Ny44OTI1IDEwMi43NDggNDcuMDY0OCAxMDMuMjk4IDQ1Ljk1NDJIMTA3LjQ4MUMxMDYuNjg3IDQ3Ljk3MzMgMTA1LjQwNSA0OS41Mjc5IDEwMy42MzQgNTAuNjE4MkMxMDEuODgzIDUxLjcwODUgOTkuODc4IDUyLjI1MzYgOTcuNjE4NSA1Mi4yNTM2Qzk1LjYyMzUgNTIuMjUzNiA5My44MDE3IDUxLjc5OTMgOTIuMTUyOCA1MC44OTA4QzkwLjUwNCA0OS45NjIgODkuMTkxIDQ4LjY3OTkgODguMjEzOSA0Ny4wNDQ1Qzg3LjI1NzEgNDUuNDA5IDg2Ljc3ODggNDMuNTYxNiA4Ni43Nzg4IDQxLjUwMjJaTTExMC4zOTUgNDMuNjUyNUMxMTAuMzk1IDQxLjk3NjggMTEwLjc0MSA0MC40OTI4IDExMS40MzMgMzkuMjAwNUMxMTIuMTQ2IDM3LjkwODMgMTEzLjEwMyAzNi45MDg5IDExNC4zMDQgMzYuMjAyMkMxMTUuNTI1IDM1LjQ3NTMgMTE2Ljg2OSAzNS4xMTE5IDExOC4zMzQgMzUuMTExOUMxMTkuNjU3IDM1LjExMTkgMTIwLjgwOCAzNS4zNzQ1IDEyMS43ODUgMzUuODk5M0MxMjIuNzgyIDM2LjQwNDIgMTIzLjU3NiAzNy4wNDAyIDEyNC4xNjYgMzcuODA3M1YzNS4zODQ1SDEyNy42NzhWNTIuMDcxOUgxMjQuMTY2VjQ5LjU4ODVDMTIzLjU3NiA1MC4zNzU5IDEyMi43NzIgNTEuMDMyMiAxMjEuNzU0IDUxLjU1N0MxMjAuNzM2IDUyLjA4MiAxMTkuNTc2IDUyLjM0NDUgMTE4LjI3MyA1Mi4zNDQ1QzExNi44MjggNTIuMzQ0NSAxMTUuNTA1IDUxLjk4MSAxMTQuMzA0IDUxLjI1NDJDMTEzLjEwMyA1MC41MDcyIDExMi4xNDYgNDkuNDc3NSAxMTEuNDMzIDQ4LjE2NUMxMTAuNzQxIDQ2LjgzMjUgMTEwLjM5NSA0NS4zMjgzIDExMC4zOTUgNDMuNjUyNVpNMTI0LjE2NiA0My43MTNDMTI0LjE2NiA0Mi41NjIyIDEyMy45MjIgNDEuNTYyNyAxMjMuNDMzIDQwLjcxNDdDMTIyLjk2NSAzOS44NjY3IDEyMi4zNDQgMzkuMjIwOCAxMjEuNTcxIDM4Ljc3NjVDMTIwLjc5NyAzOC4zMzIzIDExOS45NjMgMzguMTEwMiAxMTkuMDY3IDM4LjExMDJDMTE4LjE3MSAzOC4xMTAyIDExNy4zMzcgMzguMzMyMyAxMTYuNTYzIDM4Ljc3NjVDMTE1Ljc5IDM5LjIwMDUgMTE1LjE1OSAzOS44MzY1IDExNC42NyA0MC42ODQ1QzExNC4yMDIgNDEuNTEyMyAxMTMuOTY4IDQyLjUwMTYgMTEzLjk2OCA0My42NTI1QzExMy45NjggNDQuODAzMyAxMTQuMjAyIDQ1LjgxMjkgMTE0LjY3IDQ2LjY4MUMxMTUuMTU5IDQ3LjU0OTMgMTE1Ljc5IDQ4LjIxNTYgMTE2LjU2MyA0OC42Nzk5QzExNy4zNTcgNDkuMTI0MiAxMTguMTkyIDQ5LjM0NjIgMTE5LjA2NyA0OS4zNDYyQzExOS45NjMgNDkuMzQ2MiAxMjAuNzk3IDQ5LjEyNDIgMTIxLjU3MSA0OC42Nzk5QzEyMi4zNDQgNDguMjM1OCAxMjIuOTY1IDQ3LjU4OTYgMTIzLjQzMyA0Ni43NDE2QzEyMy45MjIgNDUuODczNSAxMjQuMTY2IDQ0Ljg2MzkgMTI0LjE2NiA0My43MTNaTTEzNS43MzEgMzcuODA3M0MxMzYuMjQgMzYuOTU5MyAxMzYuOTExIDM2LjMwMzIgMTM3Ljc0NiAzNS44Mzg3QzEzOC42MDEgMzUuMzU0MiAxMzkuNjA4IDM1LjExMTkgMTQwLjc2OSAzNS4xMTE5VjM4LjY4NTZIMTM5Ljg4M0MxMzguNTE5IDM4LjY4NTYgMTM3LjQ4MSAzOS4wMjg5IDEzNi43NjkgMzkuNzE1M0MxMzYuMDc3IDQwLjQwMTkgMTM1LjczMSA0MS41OTMgMTM1LjczMSA0My4yODlWNTIuMDcxOUgxMzIuMjVWMzUuMzg0NUgxMzUuNzMxVjM3LjgwNzNaTTE0Mi44MDggNDMuNjUyNUMxNDIuODA4IDQxLjk3NjggMTQzLjE1NCA0MC40OTI4IDE0My44NDYgMzkuMjAwNUMxNDQuNTU5IDM3LjkwODMgMTQ1LjUxNiAzNi45MDg5IDE0Ni43MTcgMzYuMjAyMkMxNDcuOTM4IDM1LjQ3NTMgMTQ5LjI5MiAzNS4xMTE5IDE1MC43NzggMzUuMTExOUMxNTEuODc3IDM1LjExMTkgMTUyLjk1NiAzNS4zNTQyIDE1NC4wMTQgMzUuODM4N0MxNTUuMDkzIDM2LjMwMzIgMTU1Ljk0OCAzNi45MjkgMTU2LjU3OSAzNy43MTY1VjI5LjY2MDVIMTYwLjA5MVY1Mi4wNzE5SDE1Ni41NzlWNDkuNTU4MkMxNTYuMDA5IDUwLjM2NTkgMTU1LjIxNSA1MS4wMzIyIDE1NC4xOTcgNTEuNTU3QzE1My4yIDUyLjA4MiAxNTIuMDUgNTIuMzQ0NSAxNTAuNzQ3IDUyLjM0NDVDMTQ5LjI4MSA1Mi4zNDQ1IDE0Ny45MzggNTEuOTgxIDE0Ni43MTcgNTEuMjU0MkMxNDUuNTE2IDUwLjUwNzIgMTQ0LjU1OSA0OS40Nzc1IDE0My44NDYgNDguMTY1QzE0My4xNTQgNDYuODMyNSAxNDIuODA4IDQ1LjMyODMgMTQyLjgwOCA0My42NTI1Wk0xNTYuNTc5IDQzLjcxM0MxNTYuNTc5IDQyLjU2MjIgMTU2LjMzNSA0MS41NjI3IDE1NS44NDYgNDAuNzE0N0MxNTUuMzc4IDM5Ljg2NjcgMTU0Ljc1NyAzOS4yMjA4IDE1My45ODQgMzguNzc2NUMxNTMuMjEgMzguMzMyMyAxNTIuMzc2IDM4LjExMDIgMTUxLjQ4IDM4LjExMDJDMTUwLjU4NCAzOC4xMTAyIDE0OS43NSAzOC4zMzIzIDE0OC45NzYgMzguNzc2NUMxNDguMjAzIDM5LjIwMDUgMTQ3LjU3MSAzOS44MzY1IDE0Ny4wODMgNDAuNjg0NUMxNDYuNjE1IDQxLjUxMjMgMTQ2LjM4MSA0Mi41MDE2IDE0Ni4zODEgNDMuNjUyNUMxNDYuMzgxIDQ0LjgwMzMgMTQ2LjYxNSA0NS44MTI5IDE0Ny4wODMgNDYuNjgxQzE0Ny41NzEgNDcuNTQ5MyAxNDguMjAzIDQ4LjIxNTYgMTQ4Ljk3NiA0OC42Nzk5QzE0OS43NyA0OS4xMjQyIDE1MC42MDUgNDkuMzQ2MiAxNTEuNDggNDkuMzQ2MkMxNTIuMzc2IDQ5LjM0NjIgMTUzLjIxIDQ5LjEyNDIgMTUzLjk4NCA0OC42Nzk5QzE1NC43NTcgNDguMjM1OCAxNTUuMzc4IDQ3LjU4OTYgMTU1Ljg0NiA0Ni43NDE2QzE1Ni4zMzUgNDUuODczNSAxNTYuNTc5IDQ0Ljg2MzkgMTU2LjU3OSA0My43MTNaTTE2Ni40MzQgMzMuMTczNkMxNjUuODAzIDMzLjE3MzYgMTY1LjI3MyAzMi45NjE2IDE2NC44NDYgMzIuNTM3NkMxNjQuNDE4IDMyLjExMzYgMTY0LjIwNSAzMS41ODg4IDE2NC4yMDUgMzAuOTYyN0MxNjQuMjA1IDMwLjMzNjkgMTY0LjQxOCAyOS44MTIgMTY0Ljg0NiAyOS4zODhDMTY1LjI3MyAyOC45NjQgMTY1LjgwMyAyOC43NTIgMTY2LjQzNCAyOC43NTJDMTY3LjA0NCAyOC43NTIgMTY3LjU2MyAyOC45NjQgMTY3Ljk5MSAyOS4zODhDMTY4LjQxOCAyOS44MTIgMTY4LjYzMiAzMC4zMzY5IDE2OC42MzIgMzAuOTYyN0MxNjguNjMyIDMxLjU4ODggMTY4LjQxOCAzMi4xMTM2IDE2Ny45OTEgMzIuNTM3NkMxNjcuNTYzIDMyLjk2MTYgMTY3LjA0NCAzMy4xNzM2IDE2Ni40MzQgMzMuMTczNlpNMTY4LjE0NCAzNS4zODQ1VjUyLjA3MTlIMTY0LjY2M1YzNS4zODQ1SDE2OC4xNDRaTTE4MS4yMDIgMzUuMTExOUMxODIuNTI1IDM1LjExMTkgMTgzLjcwNiAzNS4zODQ1IDE4NC43NDQgMzUuOTI5NkMxODUuODAzIDM2LjQ3NDcgMTg2LjYyOCAzNy4yODI1IDE4Ny4yMTcgMzguMzUyNUMxODcuODA4IDM5LjQyMjYgMTg4LjEwMiA0MC43MTQ3IDE4OC4xMDIgNDIuMjI5VjUyLjA3MTlIMTg0LjY1MlY0Mi43NDM5QzE4NC42NTIgNDEuMjQ5OSAxODQuMjc3IDQwLjEwOSAxODMuNTIyIDM5LjMyMTZDMTgyLjc3IDM4LjUxNCAxODEuNzQyIDM4LjExMDIgMTgwLjQzOCAzOC4xMTAyQzE3OS4xMzYgMzguMTEwMiAxNzguMDk4IDM4LjUxNCAxNzcuMzI0IDM5LjMyMTZDMTc2LjU3MSA0MC4xMDkgMTc2LjE5NCA0MS4yNDk5IDE3Ni4xOTQgNDIuNzQzOVY1Mi4wNzE5SDE3Mi43MTNWMzUuMzg0NUgxNzYuMTk0VjM3LjI5MjVDMTc2Ljc2NSAzNi42MDYgMTc3LjQ4NyAzNi4wNzEgMTc4LjM2MiAzNS42ODczQzE3OS4yNTggMzUuMzAzOCAxODAuMjA1IDM1LjExMTkgMTgxLjIwMiAzNS4xMTE5Wk0xOTEuMzgzIDQzLjY1MjVDMTkxLjM4MyA0MS45NzY4IDE5MS43MjggNDAuNDkyOCAxOTIuNDIyIDM5LjIwMDVDMTkzLjEzMyAzNy45MDgzIDE5NC4wOSAzNi45MDg5IDE5NS4yOTIgMzYuMjAyMkMxOTYuNTEzIDM1LjQ3NTMgMTk3Ljg1NyAzNS4xMTE5IDE5OS4zMjIgMzUuMTExOUMyMDAuNjQ0IDM1LjExMTkgMjAxLjc5NiAzNS4zNzQ1IDIwMi43NzMgMzUuODk5M0MyMDMuNzcgMzYuNDA0MiAyMDQuNTY0IDM3LjA0MDIgMjA1LjE1NCAzNy44MDczVjM1LjM4NDVIMjA4LjY2NlY1Mi4wNzE5SDIwNS4xNTRWNDkuNTg4NUMyMDQuNTY0IDUwLjM3NTkgMjAzLjc1OSA1MS4wMzIyIDIwMi43NDIgNTEuNTU3QzIwMS43MjQgNTIuMDgyIDIwMC41NjQgNTIuMzQ0NSAxOTkuMjYxIDUyLjM0NDVDMTk3LjgxNSA1Mi4zNDQ1IDE5Ni40OTIgNTEuOTgxIDE5NS4yOTIgNTEuMjU0MkMxOTQuMDkgNTAuNTA3MiAxOTMuMTMzIDQ5LjQ3NzUgMTkyLjQyMiA0OC4xNjVDMTkxLjcyOCA0Ni44MzI1IDE5MS4zODMgNDUuMzI4MyAxOTEuMzgzIDQzLjY1MjVaTTIwNS4xNTQgNDMuNzEzQzIwNS4xNTQgNDIuNTYyMiAyMDQuOTEgNDEuNTYyNyAyMDQuNDIyIDQwLjcxNDdDMjAzLjk1MyAzOS44NjY3IDIwMy4zMzEgMzkuMjIwOCAyMDIuNTU5IDM4Ljc3NjVDMjAxLjc4NSAzOC4zMzIzIDIwMC45NSAzOC4xMTAyIDIwMC4wNTUgMzguMTEwMkMxOTkuMTU5IDM4LjExMDIgMTk4LjMyNCAzOC4zMzIzIDE5Ny41NTEgMzguNzc2NUMxOTYuNzc3IDM5LjIwMDUgMTk2LjE0NyAzOS44MzY1IDE5NS42NTggNDAuNjg0NUMxOTUuMTg5IDQxLjUxMjMgMTk0Ljk1NiA0Mi41MDE2IDE5NC45NTYgNDMuNjUyNUMxOTQuOTU2IDQ0LjgwMzMgMTk1LjE4OSA0NS44MTI5IDE5NS42NTggNDYuNjgxQzE5Ni4xNDcgNDcuNTQ5MyAxOTYuNzc3IDQ4LjIxNTYgMTk3LjU1MSA0OC42Nzk5QzE5OC4zNDUgNDkuMTI0MiAxOTkuMTc5IDQ5LjM0NjIgMjAwLjA1NSA0OS4zNDYyQzIwMC45NSA0OS4zNDYyIDIwMS43ODUgNDkuMTI0MiAyMDIuNTU5IDQ4LjY3OTlDMjAzLjMzMSA0OC4yMzU4IDIwMy45NTMgNDcuNTg5NiAyMDQuNDIyIDQ2Ljc0MTZDMjA0LjkxIDQ1Ljg3MzUgMjA1LjE1NCA0NC44NjM5IDIwNS4xNTQgNDMuNzEzWk0yMTYuNzE4IDI5LjY2MDVWNTIuMDcxOUgyMTMuMjM3VjI5LjY2MDVIMjE2LjcxOFoiIGZpbGw9IiMwMEIxRkYiLz4KPC9zdmc+Cg==)

[Cardinal](https://cardinalsdk.com/en) is iCure‚Äôs backend platform that provides data management, security, and interoperability features. *In this project, we do not use the Cardinal backend directly ‚Äî we integrate with iCure's public API to access its SAM and FHC features.*

## ‚ú® Features

- üáßüá™ Designed specifically for Belgian healthcare professionals
- üîê Practitioner certificate upload & verification
- üîç Medication search powered by iCure's SAM SDK
- üìù Create, edit, list, send, and print prescriptions
- üß† Structured and unstructured posology support
- üìú Interacts with Recip-e to send prescriptions
- üß© Ready to integrate into medical apps
- üíæ Secure token and certificate storage in IndexedDB
- üåç Fully internationalized with on-demand translation (French, Dutch, German, English)

## üß∞ Technologies

- **Angular 19.x Standalone components**
- **iCure SDKs** ( `@icure/be-fhc-api`, `@icure/cardinal-be-sam-sdk`, `@icure/medication-sdk`)
- **RxJS** for reactive data handling
- **IndexedDB** for token & certificate persistence
- **SCSS** for component styles
- **TypeScript** for strict typing
- **ESLint + Prettier** for code style & linting
- **UUID.js** for unique identifiers
- **jsBarcode** for barcode generation in printed prescriptions

## ‚öôÔ∏è Prerequisites

Before starting, make sure you have:

- **Node.js v16+ and Yarn** installed
- A **valid Belgian practitioner certificate file** that you can load into the app
- The **practitioner credentials** for iCure authentication ‚Äî these must be generated on your side.  
  You can do this inside your application using the `@icure/cardinal-sdk` for a more scalable approach (we will add How-To), or via the iCure Cockpit (we recommend this only for testing purposes or for very small projects):
  - [Create a HCP in Cockpit](https://docs.icure.com/cockpit/how-to/how-to-manage-hcp#creating-an-hcp)
  - [Generate the authentication token for the HCP](https://docs.icure.com/cockpit/how-to/how-to-manage-hcp#generating-an-authentication-token)  
    Once generated, you will need the HCP‚Äôs email address and the authentication token.
- The **patient** and **healthcare professional** information to populate prescriptions

## üöÄ Getting started

### Install the library:

```bash
yarn add cardinal-prescription-be-angular
```

## üß© Available Components and How to Use Them
This library provides modular, standalone Angular components to integrate Belgian prescription workflows into your app.

### üßæ `<cardinal-practitioner-certificate />`
Handles practitioner certificate upload, decryption, and validation.

```html
<cardinal-practitioner-certificate
[hcp]="hcp"
[certificateUploaded]="certificateUploaded"
[certificateValid]="certificateValid"
[errorWhileVerifyingCertificate]="errorMessage"
(onUploadCertificate)="handleCertificateUpload($event)"
></cardinal-practitioner-certificate>
```

### üíä `<cardinal-medication-search />`
Displays a medication search interface using SAM. Triggers an event when a medication is selected for prescription.

```html
<cardinal-medication-search
  [deliveryEnvironment]="'P'"
  (addPrescription)="onCreatePrescription($event)"
></cardinal-medication-search>
```

### üìã `<cardinal-prescription-list />`
Lists created prescriptions and exposes actions to send, modify, print, or delete them.

```html
<cardinal-prescription-list
  [prescribedMedications]="prescriptions"
  [sending]="sending"
  [printing]="printing"
  (handleModifyPrescription)="onModify($event)"
  (handleDeletePrescription)="onDelete($event)"
  (sendPrescriptions)="onSend()"
  (printPrescriptions)="onPrint()"
  (sendAndPrintPrescriptions)="onSendAndPrint()"
></cardinal-prescription-list>
```

### üìù `<cardinal-prescription-modal />`
Modal for creating or modifying prescriptions with structured/unstructured posology.

```html
<cardinal-prescription-modal
  [modalTitle]="'New prescription'"
  [medicationToPrescribe]="medication"
  (handleSubmit)="onSubmit($event)"
  (handleCancel)="onClose()"
></cardinal-prescription-modal>
```

### üñ® `<cardinal-print-prescription-modal />`
Generates a printable PDF view of one or more prescriptions.

```html
<cardinal-print-prescription-modal
  [prescribedMedications]="prescriptions"
  [prescriber]="hcp"
  [patient]="patient"
  (onCloseModal)="onClosePrintModal()"
></cardinal-print-prescription-modal>
```

## üß† Available Services and How to Use Them
These services can be injected in your Angular components or other services to handle backend logic, certificates, and translation.

### üßæ `SamSdkService`
Wraps the iCure SAM SDK. Manages SDK instance and exposes SAM search/version APIs.

```ts
constructor(private samSdkService: SamSdkService) {}

await samSdkService.setSdk(samInstance);
const version = await samSdkService.getSamVersion();
```

### üîê `FhcService`
Handles interactions with the iCure Free Health Connector (FHC) API, including certificate verification and prescription sending.

```ts
constructor(private fhcService: FhcService) {}

await fhcService.sendRecipe(samVersion, hcp, patient, prescription, passphrase, tokenStore);
```

### üîí `UploadPractitionerCertificateService`
Provides helper methods for encrypting, decrypting, saving, and validating practitioner certificates using IndexedDB.

```ts
constructor(private certService: UploadPractitionerCertificateService) {}

const db = await certService.openCertificatesDatabase();
await certService.uploadAndEncrypt(db, hcpId, passphrase, certBuffer);
```

### üåê `TranslationService`
Handles translations based on a predefined dictionary and active language. Set and get the app‚Äôs language. Supports `fr - French`, `en - English`, `nl - Dutch`, and `de - German`.
```ts
constructor(private translationService: TranslationService) {}

ngOnInit() {
  this.translationService.setLanguage('fr');
  const lang = this.translationService.getCurrentLanguage();
}

const label = translationService.translate('prescription.createTitle');
```

## üìú SAM and Recip-e requirements

When the prescriber selects a medication, this application integrates with the SAMv2 database to provide all up-to-date metadata. This includes:

* Links to the leaflet & SPC.
* Special status indicators:

  * Black triangle (additional monitoring).
  * RMA material links.
  * DHPC communications.
  * Temporary supply problems.
  * End of commercialization or future commercialization.
  * VMP group information and switch statuses.
  * Conditions of delivery/prescription and risk minimization messages.
  * Reimbursement details (chapters, categories, extra reimbursement for youth contraception).

More information is available on the [SAM portal](https://www.samportal.be/nl/sam/documentation).

## üß™ Medications of interest for tests

#### üö® Commercialization & supply problems

* `Polydexa 10 mg/ml`
* `Crestor`
* `Cisplatine Teva 1 mg/ml inf. sol. (conc.) i.v. vial 50 ml`

#### üìÖ Future commercialization

* `Kaftrio` (black triangle)
* `Increlex` (black/orange triangle)

#### üß¨ Doping status

* `Ultiva`
* `Rapifen`

#### ‚ö†Ô∏è Black triangle (additional monitoring), RMA

* `Increlex`

> üí° **Note:**
> This module is built for integration with [Belgium‚Äôs SAM platform](https://www.samportal.be/nl/sam/documentation), is modular, and can be easily adapted for use in other medical solutions.

## ‚úèÔ∏è Example: Demo Application

To see the full working version, you can clone the GitHub repository and run the included demo app.

``` bash
git clone https://github.com/icure/cardinal-prescription-angular
cd cardinal-prescription-angular
yarn install
ng serve
```

>Make sure to set up your .env variables or hardcode your credentials and HCP/Patient data for testing.
